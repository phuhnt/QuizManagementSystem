@using Model.DAO;

@model Model.EF.Test

@{
    ViewBag.Title = "Details";
    Layout = "~/Areas/admin/Views/Shared/_Layout.cshtml";
}

@section breadcrumb{
    Chi tiết đề thi
}

@section linkHeader{
    <link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
    <link href="~/Assets/Admin/vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet" type="text/css" />
}


<div>
    <a class="btn btn-danger right pull-right" style="margin-bottom: 10px" href="/admin/tests/delete/@Model.Id">Xóa đề thi</a>
    <a class="btn btn-warning right pull-right" style="margin-bottom: 10px; margin-right: 10px" href="/admin/tests/@Model.Id">Chỉnh sửa đề thi</a>
    <a class="btn btn-primary right pull-right" href="/admin/tests/create" style="margin-bottom: 10px; margin-right: 10px">Thêm đề thi</a>
</div>

<div>
    <span class="badge badge-primary" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 1rem; margin-top: 24px">Thông tin chung</span>
    <table class="table table-bordered table-dark">
        <tbody>
            <tr>
                <th scope="row" width="50%">Kỳ thi</th>
                <td width="50%">
                    @Html.DisplayFor(model => model.Exam.Titile)
                </td>
            </tr>
            <tr>
                <th scope="row" width="50%">Mã đề</th>
                <td width="50%">
                    @Html.DisplayFor(model => model.CodeTest)
                </td>
            </tr>
            <tr>
                <th scope="row">Môn thi</th>
                <td>
                    @Html.DisplayFor(model => model.Subject.Name)
                </td>
            </tr>
            <tr>
                <th scope="row">Ngày thi</th>
                <td>
                    @Html.DisplayFor(model => model.FromDate)
                </td>
            </tr>
            <tr>
                <th scope="row">Số câu hỏi</th>
                <td>
                    @Html.DisplayFor(model => model.NumberOfQuestions)
                </td>
            </tr>
            <tr>
                <th scope="row">Trạng thái</th>
                <td>
                    @{
                        if (Model.Status == null)
                        {
                            <p class="badge badge-pill badge-info">Chưa thiết lập</p>

                        }
                        else if (Model.Status == true)
                        {
                            <p class="badge badge-pill badge-success">Đã mở</p>
                        }
                        else
                        {
                            <p class="badge badge-pill badge-danger">Đã đóng</p>
                        }
                    }
                </td>
            </tr>
        </tbody>
    </table>
    <span class="badge badge-primary" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 1rem; margin-top: 24px">Nội dung đề thi (Đề: @Model.CodeTest)</span>
    <table class="table table-bordered table-dark">
        <tbody>
            <tr>
                <td>
                    @{
                        var quizList = new TestDAO().GetAllQuiz(Model.Id);
                        for (int i = 1; i <= quizList.Count; i++)
                        {
                            @Html.Raw("<strong>Câu " + @i + "</strong>: " + quizList[i - 1].ContentQuestion);
                            @Html.Raw(quizList[i - 1].AnswerText);
                        }
                    }
                </td>
            </tr>
        </tbody>
    </table>
</div>
<hr />
<a class="btn btn-info" href="/admin/tests">Quay lại</a>